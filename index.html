<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Um Presente Especial Para Você, Gabriela Lopes</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Variáveis de Cores */
        :root {
            --cor-principal: #FF69B4; /* Rosa */
            --cor-secundaria: #f0f0f0; /* Branco suave */
            --cor-bg-escuro: #1a1a1a; /* Fundo escuro dos modais */
            --cor-bg-overlay: rgba(0, 0, 0, 0.4); /* Overlay do fundo principal */
            --cor-bg-overlay-forte: rgba(0, 0, 0, 0.7); /* Overlay mais forte */
            --cor-borda-modal: #333;
        }

        /* Estilos Gerais */
        body {
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #000;
            color: var(--cor-secundaria);
            overflow: hidden; 
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        /* Estilo para cada "tela" */
        .screen {
            width: 100vw;
            height: 100vh;
            position: absolute;
            top: 0;
            left: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background-size: cover;
            background-position: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 1s ease-in-out, visibility 1s ease-in-out;
            z-index: 10; /* Z-index para as telas */
        }

        .screen.active {
            opacity: 1;
            visibility: visible;
        }

        .screen::before { /* Overlay escuro para as imagens de fundo */
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--cor-bg-overlay);
            z-index: 1;
        }

        .screen-content {
            position: relative;
            z-index: 2;
            padding: 20px;
            max-width: 900px;
        }

        /* Títulos e textos inspirados na imagem */
        .screen h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 3.5em; /* Ajustado para caber no celular */
            color: var(--cor-principal);
            margin: 0;
            line-height: 1.2;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.7);
            font-weight: 700;
            padding: 0 10px;
        }
        .screen h2 {
            font-family: 'Great Vibes', cursive;
            font-size: 4em;
            color: var(--cor-principal);
            margin-bottom: 20px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }
        .screen p {
            font-size: 1.2em;
            font-weight: 300;
            margin-bottom: 15px;
        }

        /* NOME E ASSINATURA */
        .signature {
            font-family: 'Great Vibes', cursive;
            font-size: 2.5em;
            color: var(--cor-principal);
            margin-top: 10px;
            line-height: 1.2;
        }
        .text-small {
            font-size: 1em;
            font-weight: 300;
            margin-top: 20px;
        }


        /* --- NOVO ESTILO: TELA INICIAL --- */
        #mainIntroScreen h1 {
            margin-bottom: 10px;
        }
        .gift-icon {
            font-size: 3em;
            color: white;
            background-color: var(--cor-principal);
            border-radius: 50%;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.7);
        }
        .open-gift-btn {
            background-color: var(--cor-principal);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 1.2em;
            font-weight: 700;
            margin-top: 30px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        .open-gift-btn:hover {
            background-color: #ff85c1;
            transform: translateY(-2px);
        }
        /* --- FIM TELA INICIAL --- */


        /* --- NOVO ESTILO: ENVELOPE ESTILIZADO (Inspirado na Image 2) --- */
        .envelope-container {
            /* Mantém a mesma estrutura de envelope do CSS anterior */
            position: relative;
            width: 400px;
            height: 250px;
            background-color: rgba(26, 26, 26, 0.85); /* Fundo escuro */
            border: 2px solid var(--cor-principal);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.4);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            overflow: hidden; /* Importante para o novo design */
        }
        .envelope-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 30px rgba(255, 105, 180, 0.6);
        }

        /* Linhas do Envelope (Inspirado na Image 2 - Recriação do design) */
        .envelope-container .envelope-lines {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 3;
            /* Recriando as linhas cruzadas em rosa claro */
            background: linear-gradient(135deg, transparent 49.5%, rgba(255, 105, 180, 0.5) 50%, transparent 50.5%),
                        linear-gradient(-135deg, transparent 49.5%, rgba(255, 105, 180, 0.5) 50%, transparent 50.5%);
        }
        
        .envelope-container.open .envelope-lines {
            /* Animação de abrir não se aplica a este novo visual, mas pode-se esconder */
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .envelope-container .envelope-dot {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background-color: var(--cor-principal);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 1.5em;
            cursor: pointer;
            z-index: 5;
            box-shadow: 0 0 15px rgba(255, 105, 180, 0.7);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .envelope-container:hover .envelope-dot {
            transform: translate(-50%, -50%) scale(1.1);
            box-shadow: 0 0 25px rgba(255, 105, 180, 0.9);
        }

        .envelope-details {
            position: relative;
            z-index: 4; 
            color: var(--cor-secundaria);
            font-size: 1.1em;
            padding: 20px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100%;
            justify-content: center;
            text-align: center;
        }

        .envelope-details .to-from {
            display: flex;
            justify-content: space-between;
            align-items: flex-end; /* Alinha o "De:" com o "Para:" */
            width: 80%; /* Controla a distância entre eles */
            margin-top: 100px;
        }
        .envelope-details .to-from span {
            font-size: 1em;
            color: var(--cor-secundaria);
            font-family: 'Montserrat', sans-serif;
            font-weight: 300;
            line-height: 1.2;
        }
        .envelope-details .to-from .name {
            font-family: 'Great Vibes', cursive;
            font-size: 2.2em;
            color: var(--cor-principal);
        }
        .envelope-details .arrow-up {
            font-size: 1.2em;
            margin-top: 20px;
            animation: bounce 1.5s infinite;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-5px);}
            60% {transform: translateY(-2px);}
        }
        /* --- FIM ENVELOPE ESTILIZADO --- */


        /* MODAIS, BOTÕES PRÓXIMO, GALERIA: MANTER IGUAL AO CÓDIGO ANTERIOR */
        /* Para economizar espaço, o restante do CSS (modals, botões, etc.) é o mesmo da versão anterior, garantindo a consistência visual. */
        
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 1000;
        }
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background-color: var(--cor-bg-escuro);
            border: 2px solid var(--cor-borda-modal);
            border-radius: 15px;
            padding: 30px;
            max-width: 700px;
            width: 90%;
            max-height: 90vh; 
            overflow-y: auto; 
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            transform: translateY(20px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
            position: relative;
        }
        .modal-overlay.active .modal-content {
            transform: translateY(0);
            opacity: 1;
        }
        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: var(--cor-secundaria);
            font-size: 1.5em;
            cursor: pointer;
            transition: color 0.2s ease;
        }
        .modal-close:hover {
            color: var(--cor-principal);
        }
        .modal-content h3 {
            font-family: 'Great Vibes', cursive;
            color: var(--cor-principal);
            font-size: 2.5em;
            margin-top: 0;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .modal-content p {
            font-size: 1.1em;
            line-height: 1.7;
            text-align: justify;
            margin-bottom: 20px;
        }
        .modal-next-btn {
            background-color: var(--cor-principal);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 30px;
            font-size: 1em;
            margin-top: 25px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-family: 'Montserrat', sans-serif;
            font-weight: bold;
        }
        .modal-next-btn:hover {
            background-color: #ff85c1;
            transform: translateY(-2px);
        }
        .modal-footer {
            text-align: center;
            margin-top: 30px;
        }
        .modal-gallery-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #2b2b2b;
            padding: 10px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            color: var(--cor-secundaria);
        }
        .modal-gallery-header h3 {
            margin: 0;
            font-size: 1.8em; 
            color: var(--cor-secundaria);
            font-family: 'Montserrat', sans-serif; 
        }
        .modal-gallery-header h3 i {
             color: var(--cor-principal);
        }
        .modal-gallery-header span {
            background-color: var(--cor-principal);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }
        .modal-gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            max-height: 40vh; 
            overflow-y: auto; 
            padding-right: 5px; 
        }
        .modal-gallery-grid img {
            width: 100%;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .modal-gallery-grid img:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
        }
        .view-all-photos-btn {
            background-color: #555; 
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 30px;
            font-size: 1em;
            margin-top: 25px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-right: 10px; 
        }
        .view-all-photos-btn:hover {
            background-color: #777;
            transform: translateY(-2px);
        }
        .navigation-dots {
            display: none; /* Oculta os pontos de navegação nesta versão para forçar o fluxo de "Próximo" */
        }
        
        /* Responsividade */
        @media (max-width: 768px) {
            .screen h1 {
                font-size: 3em;
            }
            .envelope-container {
                width: 90%;
                height: 200px;
            }
            .envelope-details .to-from {
                width: 90%;
                margin-top: 80px;
            }
            .envelope-details .to-from .name {
                font-size: 1.8em;
            }
            .modal-content h3 {
                font-size: 2em;
            }
            .modal-content p {
                font-size: 0.95em;
            }
            .modal-gallery-grid {
                grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
            }
        }
    </style>
</head>
<body>

    <div id="mainIntroScreen" class="screen active" style="background-image: url('fundo_tela_inicial.jpg');">
        <div class="screen-content">
            <div class="gift-icon"><i class="fas fa-gift"></i></div>
            <h1>Sua homenagem está pronta!</h1>
            <p class="text-small">Para</p>
            <p class="signature">Gabriela Lopes</p>
            <p class="text-small">Com muito carinho, <span class="signature" style="font-size: 1.8em; margin: 0;">Jone Lucas</span></p>
            <button class="open-gift-btn" id="goToEnvelopeBtn">
                <i class="fas fa-arrow-right"></i> Abrir Presente
            </button>
        </div>
    </div>

    <div id="envelopeScreen" class="screen" style="background-image: url('fundo_envelope.jpg');">
        <div class="screen-content">
            <div class="envelope-container" id="envelope">
                <div class="envelope-lines"></div> 
                <div class="envelope-dot" id="openEnvelopeBtn"><i class="fas fa-heart"></i></div>
                <div class="envelope-details">
                    <div class="to-from">
                        <span>Para: <span class="name">Gabriela Lopes</span></span>
                        <span>De: <span class="name">Jone Lucas</span></span>
                    </div>
                    <p class="arrow-up" style="margin-top: 50px;">Toque no coração para abrir a mensagem</p>
                </div>
            </div>
        </div>
    </div>

    <div id="messageModal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" id="closeMessageModal"><i class="fas fa-times"></i></button>
            <h3><i class="fas fa-envelope-open-text"></i> Mensagem</h3>
            <p>
                Amor, às vezes eu fico aqui pensando no tamanho da sorte que eu tenho… Todo dia eu acordo feliz só por saber que você existe na minha vida. Você é meu amor, minha paz, meu sorriso fácil. A melhor sensação do mundo é imaginar a gente juntinhos, eu te abraçando forte, te enchendo de beijinhos e vivendo cada coisinha boa ao seu lado.
                Eu sempre vou escolher você. Sempre. Cada segundo com você é especial, é único, é diferente de tudo que eu já vivi. Eu que agradeço, meu amor, por nunca soltar a minha mão, por estar comigo em todos os momentos. Você é tudo pra mim, tudo mesmo.
            </p>
            <p>
                Eu sou completamente apaixonado por cada detalhe seu. Fico revendo seus vídeos e áudios, com aquele sorrisinho bobo, pensando: “caramba, que mulher maravilhosa eu tenho!”. Você mexe comigo de um jeito que ninguém nunca conseguiu. Até quando a gente briga, amor… eu sei que é só o mundo tentando testar a gente, porque nosso futuro vai ser gigante.
            </p>
            <p>
                E falando em teste… eu morro de medo quando você tá bravinha kkkk mas amo o seu jeitinho, sou totalmente viciado em você. Eu nunca me arrependi de nada que fiz pela gente e nem vou. Aprender com você, cuidar de você, amar você… é um privilégio enorme.
            </p>
            <p>
                Deus sabia o que tava fazendo quando cruzou nossos caminhos. Você é o amor da minha vida, minha baixinha, minha princesa, minha nenezinha. E pode ter certeza: a gente vai casar sim, e eu não vejo a hora de te chamar de minha pra sempre.
            </p>
            
            <div class="modal-footer">
                <button class="modal-next-btn" data-next-modal="galleryModal">
                    <i class="fas fa-arrow-right"></i> Próximo (Nossas Fotos)
                </button>
            </div>
        </div>
    </div>

    <div id="galleryModal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" id="closeGalleryModal"><i class="fas fa-times"></i></button>
            <div class="modal-gallery-header">
                <h3><i class="fas fa-camera"></i> Nossas Fotos</h3>
                <span id="galleryPhotoCount"></span>
            </div>
            <div class="modal-gallery-grid" id="fullGalleryGrid">
                </div>
            
            <div class="modal-footer">
                <button class="view-all-photos-btn" id="loadMorePhotosBtn" style="display: none;">
                    <i class="fas fa-images"></i> Ver Mais Fotos
                </button>
                <button class="modal-next-btn" data-next-modal="loveModal">
                    <i class="fas fa-arrow-right"></i> Próximo (O que amo)
                </button>
            </div>
        </div>
    </div>

    <div id="loveModal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" id="closeLoveModal"><i class="fas fa-times"></i></button>
            <h3><i class="fas fa-heartbeat"></i> O Que Eu Mais Amo em Você</h3>
            <p>
                Amor, eu amo o jeito que você me trata, o jeito que olha pra mim com aquele olhar que me desmonta por dentro. Você é tão inteligente, focada, simples, romântica… uma combinação perfeita. Eu admiro cada detalhe seu, cada gesto, cada palavra.
            </p>
            <p>
                Você é incrível, maravilhosa, gentil, linda e perfeita em todos os sentidos. Tudo em você me encanta, me acalma e me faz querer ser alguém melhor. Eu amo o seu jeitinho, o seu carinho, o seu cuidado… amo o modo como você transforma até os dias mais comuns em momentos especiais só por estar neles.
            </p>
            <p>
                Você é o meu refúgio, meu amor, minha paz. E toda vez que eu te olho, tenho certeza de que encontrei a pessoa certa, aquela que eu quero pra sempre.
            </p>
            
            <div class="modal-footer">
                <button class="modal-next-btn" data-next-modal="historyModal">
                    <i class="fas fa-arrow-right"></i> Próximo (Nossa História)
                </button>
            </div>
        </div>
    </div>

    <div id="historyModal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" id="closeHistoryModal"><i class="fas fa-times"></i></button>
            <h3><i class="fas fa-book-open"></i> A Nossa História</h3>
            <p>
                Nossa história é algo que eu nunca vou esquecer. Tudo começou quando a Anajuh queria montar uma fac e me chamou pra participar. No começo eu nem queria, não tava muito no clima, e acabei deixando quieto. Nesse tempo ela conheceu outras pessoas, e entre elas tava você. Naquela época você namorava e eu também, então a gente virou “amigos”. Só que, desde o início, tinha algo diferente, mesmo que a gente fingisse que não. Eu entrei pra fac da minha irmã e, mesmo assim, a gente sempre se falava. Às vezes era só pra pedir algo ou conversar um pouco, mas com o tempo, cada papo ficava mais leve, mais bom de ter.
            </p>
            <p>
                Aí veio aquele dia em que você me chamou pra fazer uma ammu. Eu quase nunca aceitava, mas dessa vez aceitei, e foi aí que tudo começou a mudar. Nossa amizade ficou mais forte, e a gente começou a fazer várias coisas juntos. Aos poucos, o sentimento foi crescendo, até que chegou o momento em que a gente não conseguiu mais esconder e decidiu falar o que sentia.
            </p>
            <p>
                Só que a fac tinha uma regra: não podia ter relacionamento. Mesmo assim, o sentimento falou mais alto, e a gente ficou junto escondido, só nosso, e cada momento era incrível. Teve aquele pedido do nada (que eu sei que você não gostou muito kkkk), mas depois eu quis fazer tudo certo. Te levei na cachoeira da cidade, me ajoelhei, te dei ursos, uma aliança, e aquele dia foi perfeito. Foi ali que nosso namoro começou de verdade, e quando contamos pra todo mundo, foi mágico.
            </p>
            <p>
                Depois veio uma briga boba, coisa de criança, e eu acabei terminando. Foram uns 20 dias sem se falar, e parecia uma eternidade. Mesmo assim, eu ainda te amava e sabia que você também. Criei coragem, te mandei mensagem e pedi pra gente voltar a conversar. Você me deu uma chance, mesmo com todo mundo dizendo pra não confiar em mim. E eu não desperdicei. Aos poucos, reconquistei você.
            </p>
            <p>
                Voltamos a rir, conversar e, com o tempo, voltamos a namorar escondido de novo, mas era perfeito. A gente se conheceu de verdade, aprendeu com os erros e se amou do nosso jeitinho. Hoje estamos juntos, inseparáveis, com nossos amigos e com um amor que só cresce.
            </p>
            <p>
                Nosso começo pode ter sido inesperado, mas foi o destino mostrando que o que é pra ser, sempre encontra o caminho. E eu sei, com toda certeza, que o meu caminho é você.
            </p>

            <div class="modal-footer">
                <button class="modal-next-btn" data-next-modal="dreamsModal">
                    <i class="fas fa-arrow-right"></i> Próximo (Nossos Sonhos)
                </button>
            </div>
        </div>
    </div>

    <div id="dreamsModal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" id="closeDreamsModal"><i class="fas fa-times"></i></button>
            <h3><i class="fas fa-star"></i> Nossos Sonhos Juntos</h3>
            <ul style="list-style: none; padding: 0; font-size: 1.1em; text-align: left; max-width: 400px; margin: 20px auto;">
                <li>🏡 Nos conhecer pessoalmente, dar um abraço bem apertado e um beijo cheio de amor.</li>
                <li>💖 Dizer tudo o que sentimos um pelo outro, olhando nos olhos.</li>
                <li>👨‍👩‍👧‍👦 Construir uma família juntos e ter filhos.</li>
                <li>💍 Nos casar e ficar juntos para sempre.</li>
                <li>✈️ Viajar e viver muitas aventuras ao seu lado.</li>
            </ul>
            <p style="font-family: 'Great Vibes', cursive; font-size: 2em; color: var(--cor-principal); margin-top: 40px;">Para sempre com você,<br>Jone Lucas</p>
        </div>
    </div>

    <script>
        // --- Pegando os Elementos ---
        const mainIntroScreen = document.getElementById('mainIntroScreen');
        const goToEnvelopeBtn = document.getElementById('goToEnvelopeBtn');
        const envelopeScreen = document.getElementById('envelopeScreen');
        const envelope = document.getElementById('envelope');
        const openEnvelopeBtn = document.getElementById('openEnvelopeBtn');

        const modals = document.querySelectorAll('.modal-overlay');
        const nextButtons = document.querySelectorAll('.modal-next-btn');
        const closeButtons = document.querySelectorAll('.modal-close');

        const fullGalleryGrid = document.getElementById('fullGalleryGrid');
        const galleryPhotoCount = document.getElementById('galleryPhotoCount');
        const loadMorePhotosBtn = document.getElementById('loadMorePhotosBtn');


        // SUAS FOTOS AQUI (Com a nova foto 'foto_galeria_10.jpg' adicionada)
        const allPhotos = [
            'foto_galeria_1.jpg',
            'foto_galeria_2.jpg',
            'foto_galeria_3.jpg',
            'foto_galeria_4.jpg',
            'foto_galeria_5.jpg',
            'foto_galeria_6.jpg',
            'foto_galeria_7.jpg',
            'foto_galeria_8.jpg',
            'foto_galeria_9.jpg',
            'foto_galeria_10.jpg', // NOVA FOTO: close do casal na água
        ];
        let photosToShowInitially = 4;

        // --- FUNÇÕES DE CONTROLE DE TELA/MODAL ---
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
            document.body.style.overflow = 'hidden'; 
        }

        function openModal(modalId) {
            closeAllModals(); // Garante que apenas um modal esteja aberto
            document.getElementById(modalId).classList.add('active');
            document.body.style.overflow = 'hidden';
            document.getElementById(modalId).querySelector('.modal-content').scrollTop = 0;

            if (modalId === 'galleryModal') {
                loadGalleryPhotos(photosToShowInitially);
            }
        }

        function closeAllModals() {
            modals.forEach(modal => {
                modal.classList.remove('active');
            });
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            // Após fechar o modal, retorna à tela do Envelope
            showScreen('envelopeScreen'); 
        }
        
        // --- EVENTOS DE FLUXO ---
        
        // 1. Botão "Abrir Presente" da Tela Inicial
        goToEnvelopeBtn.addEventListener('click', () => {
            showScreen('envelopeScreen');
        });

        // 2. Toque no coração do Envelope
        openEnvelopeBtn.addEventListener('click', () => {
            // A animação do envelope do design da Image 2 é CSS-based, mas 
            // vamos simular a abertura mostrando o primeiro modal
            
            // Simula a abertura por 1 segundo antes de abrir o modal
            envelope.style.opacity = 0; 
            envelope.style.transform = 'scale(0.9)';
            
            setTimeout(() => {
                openModal('messageModal'); 
                envelope.style.opacity = 1;
                envelope.style.transform = 'scale(1)';
            }, 800); 
        });

        // 3. Botões "Próximo" entre os Modais
        nextButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                const currentModal = e.target.closest('.modal-overlay');
                const nextModalId = button.dataset.nextModal;
                
                closeModal(currentModal.id);
                openModal(nextModalId);
            });
        });

        // 4. Botões "Fechar" (X)
        closeButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                const currentModal = e.target.closest('.modal-overlay');
                closeModal(currentModal.id);
            });
        });

        // --- LÓGICA DA GALERIA ---
        function loadGalleryPhotos(count) {
            fullGalleryGrid.innerHTML = '';
            const photosSubset = allPhotos.slice(0, count);

            photosSubset.forEach(photoSrc => {
                const img = document.createElement('img');
                img.src = photoSrc;
                img.alt = 'Nossa Foto';
                fullGalleryGrid.appendChild(img);
            });

            galleryPhotoCount.textContent = `${photosSubset.length} de ${allPhotos.length} fotos`;

            if (count < allPhotos.length) {
                loadMorePhotosBtn.style.display = 'inline-flex';
            } else {
                loadMorePhotosBtn.style.display = 'none';
            }
        }

        loadMorePhotosBtn.addEventListener('click', () => {
            photosToShowInitially = allPhotos.length;
            loadGalleryPhotos(photosToShowInitially);
        });

    </script>

</body>
</html>
