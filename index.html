<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Um Presente Especial Para Você, Gabriela Lopes</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Variáveis de Cores */
        :root {
            --cor-principal: #FF69B4; /* Rosa, como na ref */
            --cor-secundaria: #f0f0f0; /* Branco suave */
            --cor-bg-escuro: #1a1a1a; /* Fundo escuro dos modais */
            --cor-bg-overlay: rgba(0, 0, 0, 0.6); /* Overlay do fundo principal */
            --cor-borda-modal: #333;
        }

        /* Estilos Gerais */
        body {
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #000;
            color: var(--cor-secundaria);
            overflow: hidden; /* Controlado pelo JS */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        /* Estilo para cada "tela" */
        .screen {
            width: 100vw;
            height: 100vh;
            position: absolute;
            top: 0;
            left: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background-size: cover;
            background-position: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 1s ease-in-out, visibility 1s ease-in-out;
        }

        .screen.active {
            opacity: 1;
            visibility: visible;
        }

        .screen::before { /* Overlay escuro para as imagens de fundo */
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--cor-bg-overlay);
            z-index: 1;
        }

        .screen-content {
            position: relative;
            z-index: 2;
            padding: 20px;
            max-width: 900px;
        }

        /* Títulos e textos inspirados na imagem */
        .screen h1 {
            font-family: 'Great Vibes', cursive;
            font-size: 5em;
            color: var(--cor-principal);
            margin: 0;
            line-height: 1.2;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.5);
        }
        .screen h2 {
            font-family: 'Great Vibes', cursive;
            font-size: 4em;
            color: var(--cor-principal);
            margin-bottom: 20px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }
        .screen p {
            font-size: 1.2em;
            font-weight: 300;
            margin-bottom: 15px;
        }

        /* Corações */
        .hearts {
            font-size: 1.8em;
            color: var(--cor-principal);
            margin: 15px 0;
            letter-spacing: 5px;
        }

        /* Estilo da Carta (Envelope) */
        .envelope-container {
            position: relative;
            width: 400px;
            height: 250px;
            background-color: var(--cor-bg-escuro);
            border: 2px solid var(--cor-principal);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.4); /* Brilho rosa */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .envelope-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 30px rgba(255, 105, 180, 0.6);
        }
        .envelope-container .top-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 200px solid transparent;
            border-right: 200px solid transparent;
            border-bottom: 125px solid #2a2a2a; /* Cor do triângulo superior */
            border-radius: 15px 15px 0 0;
            transition: transform 0.5s ease-in-out;
            transform-origin: top;
            z-index: 3;
        }
        .envelope-container.open .top-flap {
            transform: rotateX(180deg);
        }
        .envelope-container .bottom-flap {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 200px solid transparent;
            border-right: 200px solid transparent;
            border-top: 125px solid #2a2a2a;
            border-radius: 0 0 15px 15px;
            z-index: 3;
        }
        .envelope-container .left-flap {
            position: absolute;
            left: 0;
            top: 0;
            width: 0;
            height: 0;
            border-top: 125px solid transparent;
            border-bottom: 125px solid transparent;
            border-right: 200px solid #2a2a2a;
            border-radius: 15px 0 0 15px;
            z-index: 3;
        }
        .envelope-container .right-flap {
            position: absolute;
            right: 0;
            top: 0;
            width: 0;
            height: 0;
            border-top: 125px solid transparent;
            border-bottom: 125px solid transparent;
            border-left: 200px solid #2a2a2a;
            border-radius: 0 15px 15px 0;
            z-index: 3;
        }

        .envelope-details {
            position: relative;
            z-index: 4; /* Acima das abas */
            color: var(--cor-secundaria);
            font-size: 1.1em;
            padding: 20px;
            width: 100%;
        }
        .envelope-details .to-from {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }
        .envelope-details .to-from span {
            font-size: 1.2em;
            color: var(--cor-principal);
            font-family: 'Great Vibes', cursive;
        }
        .envelope-details p {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.9em;
            margin-top: 30px;
        }
        .envelope-details .arrow-down {
            font-size: 1.5em;
            margin-top: 10px;
            animation: bounce 1.5s infinite;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }

        /* Ponto de clique no envelope */
        .envelope-dot {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background-color: var(--cor-principal);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 1.5em;
            cursor: pointer;
            z-index: 5;
            box-shadow: 0 0 15px rgba(255, 105, 180, 0.7);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .envelope-dot:hover {
            transform: translate(-50%, -50%) scale(1.1);
            box-shadow: 0 0 25px rgba(255, 105, 180, 0.9);
        }

        /* Modals (Pop-ups) */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 1000;
        }
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background-color: var(--cor-bg-escuro);
            border: 2px solid var(--cor-borda-modal);
            border-radius: 15px;
            padding: 30px;
            max-width: 700px;
            width: 90%;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            transform: translateY(20px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
            position: relative;
        }
        .modal-overlay.active .modal-content {
            transform: translateY(0);
            opacity: 1;
        }
        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: var(--cor-secundaria);
            font-size: 1.5em;
            cursor: pointer;
            transition: color 0.2s ease;
        }
        .modal-close:hover {
            color: var(--cor-principal);
        }
        .modal-content h3 {
            font-family: 'Great Vibes', cursive; /* Mantém a fonte caligráfica para títulos internos */
            color: var(--cor-principal);
            font-size: 2.5em;
            margin-top: 0;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .modal-content h3 i {
            font-size: 0.8em;
        }
        .modal-content p {
            font-size: 1.1em;
            line-height: 1.7;
            text-align: justify;
            margin-bottom: 20px;
        }

        /* Estilo da Galeria Modal */
        .modal-gallery-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #2b2b2b;
            padding: 10px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            color: var(--cor-secundaria);
        }
        .modal-gallery-header h3 {
            margin: 0;
            font-size: 1.8em; /* Ajuste para o header */
            color: var(--cor-secundaria);
            font-family: 'Montserrat', sans-serif; /* Fonte normal para o header da galeria */
        }
        .modal-gallery-header h3 i {
             color: var(--cor-principal);
        }
        .modal-gallery-header span {
            background-color: var(--cor-principal);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }
        .modal-gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            max-height: 50vh; /* Limita a altura da galeria */
            overflow-y: auto; /* Adiciona rolagem se muitas fotos */
            padding-right: 5px; /* Espaço para a barra de rolagem */
        }
        .modal-gallery-grid img {
            width: 100%;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .modal-gallery-grid img:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
        }
        .view-all-photos-btn {
            background-color: var(--cor-principal);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 30px;
            font-size: 1em;
            margin-top: 25px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        .view-all-photos-btn:hover {
            background-color: #ff85c1;
            transform: translateY(-2px);
        }

        /* Estilo para a tela final de agradecimento */
        .thank-you-message h2 {
            font-size: 3em;
        }
        .thank-you-message p {
            font-family: 'Great Vibes', cursive;
            font-size: 2.5em;
            color: var(--cor-principal);
            margin-top: 30px;
        }

        /* Ocultar barra de rolagem (opcional) */
        .modal-gallery-grid::-webkit-scrollbar {
            width: 8px;
        }
        .modal-gallery-grid::-webkit-scrollbar-thumb {
            background-color: rgba(255, 105, 180, 0.5); /* Rosa semitransparente */
            border-radius: 10px;
        }
        .modal-gallery-grid::-webkit-scrollbar-track {
            background-color: #333;
            border-radius: 10px;
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .screen h1 {
                font-size: 3.5em;
            }
            .screen h2 {
                font-size: 2.5em;
            }
            .screen p {
                font-size: 1em;
            }
            .envelope-container {
                width: 90%;
                height: 200px;
            }
            .envelope-container .top-flap, .envelope-container .bottom-flap {
                border-left-width: 45vw; /* Ajusta para 90% da largura */
                border-right-width: 45vw;
                border-bottom-width: 100px;
                border-top-width: 100px;
            }
            .envelope-container .left-flap, .envelope-container .right-flap {
                border-top-width: 100px;
                border-bottom-width: 100px;
                border-right-width: 45vw;
                border-left-width: 45vw;
            }
            .modal-content {
                padding: 20px;
            }
            .modal-content h3 {
                font-size: 2em;
            }
            .modal-content p {
                font-size: 0.95em;
            }
            .modal-gallery-grid {
                grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
            }
        }
    </style>
</head>
<body>

    <div id="loadingScreen" class="screen active" style="background-image: url('fundo_intro.jpg');">
        <div class="screen-content">
            <h1>Coletando suas melhores memórias...</h1>
            <div class="hearts">💖</div>
            <p>Cada foto conta uma história especial</p>
            <div class="gallery-grid" style="max-height: none; overflow: visible; margin-top: 50px; display: flex; justify-content: center; align-items: flex-end;">
                <img src="foto_intro_1.jpg" alt="Memória 1" style="width: 180px; height: 180px; object-fit: cover; border-radius: 8px; transform: rotate(-8deg); margin: -30px 10px;">
                <img src="foto_intro_2.jpg" alt="Memória 2" style="width: 200px; height: 200px; object-fit: cover; border-radius: 8px; transform: rotate(5deg);">
                <img src="foto_intro_3.jpg" alt="Memória 3" style="width: 190px; height: 190px; object-fit: cover; border-radius: 8px; transform: rotate(-3deg); margin: 20px -10px;">
            </div>
        </div>
    </div>

    <div id="envelopeScreen" class="screen" style="background-image: url('fundo_envelope.jpg');">
        <div class="screen-content">
            <div class="envelope-container" id="envelope">
                <div class="top-flap"></div>
                <div class="bottom-flap"></div>
                <div class="left-flap"></div>
                <div class="right-flap"></div>
                <div class="envelope-dot" id="openEnvelopeBtn"><i class="fas fa-heart"></i></div>
                <div class="envelope-details">
                    <div class="to-from">
                        <span>Para: <span style="font-family: 'Great Vibes', cursive;">Gabriela Lopes</span></span>
                        <span>De: <span style="font-family: 'Great Vibes', cursive;">Jone Lucas</span></span>
                    </div>
                    <p class="arrow-down">Toque para abrir</p>
                </div>
            </div>
        </div>
    </div>

    <div id="messageModal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" id="closeMessageModal"><i class="fas fa-times"></i></button>
            <h3><i class="fas fa-envelope-open-text"></i> Mensagem</h3>
            <p>
                Amor, às vezes eu fico aqui pensando no tamanho da sorte que eu tenho… Todo dia eu acordo feliz só por saber que você existe na minha vida. Você é meu amor, minha paz, meu sorriso fácil. A melhor sensação do mundo é imaginar a gente juntinhos, eu te abraçando forte, te enchendo de beijinhos e vivendo cada coisinha boa ao seu lado.
                Eu sempre vou escolher você. Sempre. Cada segundo com você é especial, é único, é diferente de tudo que eu já vivi. Eu que agradeço, meu amor, por nunca soltar a minha mão, por estar comigo em todos os momentos. Você é tudo pra mim, tudo mesmo.
            </p>
            <p>
                Eu sou completamente apaixonado por cada detalhe seu. Fico revendo seus vídeos e áudios, com aquele sorrisinho bobo, pensando: “caramba, que mulher maravilhosa eu tenho!”. Você mexe comigo de um jeito que ninguém nunca conseguiu. Até quando a gente briga, amor… eu sei que é só o mundo tentando testar a gente, porque nosso futuro vai ser gigante.
            </p>
            <p>
                E falando em teste… eu morro de medo quando você tá bravinha kkkk mas amo o seu jeitinho, sou totalmente viciado em você. Eu nunca me arrependi de nada que fiz pela gente e nem vou. Aprender com você, cuidar de você, amar você… é um privilégio enorme.
            </p>
            <p>
                Deus sabia o que tava fazendo quando cruzou nossos caminhos. Você é o amor da minha vida, minha baixinha, minha princesa, minha nenezinha. E pode ter certeza: a gente vai casar sim, e eu não vejo a hora de te chamar de minha pra sempre.
            </p>
            <p style="font-size: 0.9em; margin-top: 30px; text-align: center;">
                <i class="fas fa-ellipsis-h"></i> Clique no (X) para ver as outras seções
            </p>
        </div>
    </div>

    <div id="galleryModal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" id="closeGalleryModal"><i class="fas fa-times"></i></button>
            <div class="modal-gallery-header">
                <h3><i class="fas fa-camera"></i> Nossas Fotos</h3>
                <span id="galleryPhotoCount"></span>
            </div>
            <div class="modal-gallery-grid" id="fullGalleryGrid">
                </div>
            <button class="view-all-photos-btn" id="loadMorePhotosBtn" style="display: none;">
                <i class="fas fa-images"></i> Ver Mais Fotos
            </button>
        </div>
    </div>

    <div id="loveModal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" id="closeLoveModal"><i class="fas fa-times"></i></button>
            <h3><i class="fas fa-heartbeat"></i> O Que Eu Mais Amo em Você</h3>
            <p>
                Amor, eu amo o jeito que você me trata, o jeito que olha pra mim com aquele olhar que me desmonta por dentro. Você é tão inteligente, focada, simples, romântica… uma combinação perfeita. Eu admiro cada detalhe seu, cada gesto, cada palavra.
            </p>
            <p>
                Você é incrível, maravilhosa, gentil, linda e perfeita em todos os sentidos. Tudo em você me encanta, me acalma e me faz querer ser alguém melhor. Eu amo o seu jeitinho, o seu carinho, o seu cuidado… amo o modo como você transforma até os dias mais comuns em momentos especiais só por estar neles.
            </p>
            <p>
                Você é o meu refúgio, meu amor, minha paz. E toda vez que eu te olho, tenho certeza de que encontrei a pessoa certa, aquela que eu quero pra sempre.
            </p>
        </div>
    </div>

    <div id="historyModal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" id="closeHistoryModal"><i class="fas fa-times"></i></button>
            <h3><i class="fas fa-book-open"></i> A Nossa História</h3>
            <p>
                Nossa história é algo que eu nunca vou esquecer. Tudo começou quando a Anajuh queria montar uma fac e me chamou pra participar. No começo eu nem queria, não tava muito no clima, e acabei deixando quieto. Nesse tempo ela conheceu outras pessoas, e entre elas tava você. Naquela época você namorava e eu também, então a gente virou “amigos”. Só que, desde o início, tinha algo diferente, mesmo que a gente fingisse que não. Eu entrei pra fac da minha irmã e, mesmo assim, a gente sempre se falava. Às vezes era só pra pedir algo ou conversar um pouco, mas com o tempo, cada papo ficava mais leve, mais bom de ter.
            </p>
            <p>
                Aí veio aquele dia em que você me chamou pra fazer uma ammu. Eu quase nunca aceitava, mas dessa vez aceitei, e foi aí que tudo começou a mudar. Nossa amizade ficou mais forte, e a gente começou a fazer várias coisas juntos. Aos poucos, o sentimento foi crescendo, até que chegou o momento em que a gente não conseguiu mais esconder e decidiu falar o que sentia.
            </p>
            <p>
                Só que a fac tinha uma regra: não podia ter relacionamento. Mesmo assim, o sentimento falou mais alto, e a gente ficou junto escondido, só nosso, e cada momento era incrível. Teve aquele pedido do nada (que eu sei que você não gostou muito kkkk), mas depois eu quis fazer tudo certo. Te levei na cachoeira da cidade, me ajoelhei, te dei ursos, uma aliança, e aquele dia foi perfeito. Foi ali que nosso namoro começou de verdade, e quando contamos pra todo mundo, foi mágico.
            </p>
            <p>
                Depois veio uma briga boba, coisa de criança, e eu acabei terminando. Foram uns 20 dias sem se falar, e parecia uma eternidade. Mesmo assim, eu ainda te amava e sabia que você também. Criei coragem, te mandei mensagem e pedi pra gente voltar a conversar. Você me deu uma chance, mesmo com todo mundo dizendo pra não confiar em mim. E eu não desperdicei. Aos poucos, reconquistei você.
            </p>
            <p>
                Voltamos a rir, conversar e, com o tempo, voltamos a namorar escondido de novo, mas era perfeito. A gente se conheceu de verdade, aprendeu com os erros e se amou do nosso jeitinho. Hoje estamos juntos, inseparáveis, com nossos amigos e com um amor que só cresce.
            </p>
            <p>
                Nosso começo pode ter sido inesperado, mas foi o destino mostrando que o que é pra ser, sempre encontra o caminho. E eu sei, com toda certeza, que o meu caminho é você.
            </p>
        </div>
    </div>

    <div id="dreamsModal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" id="closeDreamsModal"><i class="fas fa-times"></i></button>
            <h3><i class="fas fa-star"></i> Nossos Sonhos Juntos</h3>
            <ul style="list-style: none; padding: 0; font-size: 1.1em; text-align: left; max-width: 400px; margin: 20px auto;">
                <li>🏡 Nos conhecer pessoalmente, dar um abraço bem apertado e um beijo cheio de amor.</li>
                <li>💖 Dizer tudo o que sentimos um pelo outro, olhando nos olhos.</li>
                <li>👨‍👩‍👧‍👦 Construir uma família juntos e ter filhos.</li>
                <li>💍 Nos casar e ficar juntos para sempre.</li>
                <li>✈️ Viajar e viver muitas aventuras ao seu lado.</li>
            </ul>
            <p style="font-family: 'Great Vibes', cursive; font-size: 2em; color: var(--cor-principal); margin-top: 40px;">Para sempre com você,<br>Jone Lucas</p>
        </div>
    </div>

    <div class="navigation-dots" style="bottom: 20px; z-index: 1000;">
        <div class="dot active" data-modal="messageModal" title="Mensagem"></div>
        <div class="dot" data-modal="galleryModal" title="Fotos"></div>
        <div class="dot" data-modal="loveModal" title="O que amo em você"></div>
        <div class="dot" data-modal="historyModal" title="Nossa História"></div>
        <div class="dot" data-modal="dreamsModal" title="Nossos Sonhos"></div>
    </div>


    <script>
        const loadingScreen = document.getElementById('loadingScreen');
        const envelopeScreen = document.getElementById('envelopeScreen');
        const envelope = document.getElementById('envelope');
        const openEnvelopeBtn = document.getElementById('openEnvelopeBtn');

        const messageModal = document.getElementById('messageModal');
        const closeMessageModal = document.getElementById('closeMessageModal');

        const galleryModal = document.getElementById('galleryModal');
        const closeGalleryModal = document.getElementById('closeGalleryModal');
        const fullGalleryGrid = document.getElementById('fullGalleryGrid');
        const galleryPhotoCount = document.getElementById('galleryPhotoCount');
        const loadMorePhotosBtn = document.getElementById('loadMorePhotosBtn');

        const loveModal = document.getElementById('loveModal');
        const closeLoveModal = document.getElementById('closeLoveModal');

        const historyModal = document.getElementById('historyModal');
        const closeHistoryModal = document.getElementById('closeHistoryModal');

        const dreamsModal = document.getElementById('dreamsModal');
        const closeDreamsModal = document.getElementById('closeDreamsModal');

        const dots = document.querySelectorAll('.navigation-dots .dot');

        // SUAS FOTOS AQUI (coloque os nomes dos arquivos na mesma pasta do HTML)
        // Certifique-se de que os arquivos de imagem existam!
        const allPhotos = [
            'foto_galeria_1.jpg',
            'foto_galeria_2.jpg',
            'foto_galeria_3.jpg',
            'foto_galeria_4.jpg',
            'foto_galeria_5.jpg',
            'foto_galeria_6.jpg',
            'foto_galeria_7.jpg',
            'foto_galeria_8.jpg',
            'foto_galeria_9.jpg',
            // Adicione mais fotos aqui se tiver!
        ];
        let photosToShowInitially = 4; // Quantidade de fotos para mostrar no header da galeria

        // --- FUNÇÕES DE CONTROLE DE TELA/MODAL ---
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
            document.body.style.overflow = 'hidden'; // Impede rolagem no corpo principal
        }

        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
            document.body.style.overflow = 'hidden'; // Impede rolagem quando modal está aberto
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            // Só habilita a rolagem se não houver outros modais abertos
            if (!document.querySelector('.modal-overlay.active')) {
                document.body.style.overflow = 'auto';
            }
        }

        function updateDotActiveState(activeModalId) {
            dots.forEach(dot => {
                dot.classList.remove('active');
                if (dot.dataset.modal === activeModalId) {
                    dot.classList.add('active');
                }
            });
        }

        // --- CARREGAMENTO INICIAL ---
        window.addEventListener('load', () => {
            // Após 3 segundos na tela de carregamento, mostra a tela do envelope
            setTimeout(() => {
                loadingScreen.classList.remove('active');
                showScreen('envelopeScreen');
            }, 3000); // 3 segundos
        });

        // --- EVENTOS DA CARTA (ENVELOPE) ---
        openEnvelopeBtn.addEventListener('click', () => {
            envelope.classList.add('open');
            envelope.style.pointerEvents = 'none'; // Desabilita clique no envelope depois de abrir

            // Animação para o overlay do envelope sumir ou revelar o próximo conteúdo
            setTimeout(() => {
                showScreen('envelopeScreen'); // Garante que a tela de fundo ainda esteja visível
                openModal('messageModal'); // Abre o modal de mensagem
                updateDotActiveState('messageModal');
            }, 800); // Tempo para a animação da carta
        });

        // --- EVENTOS DOS MODAIS ---
        closeMessageModal.addEventListener('click', () => {
            closeModal('messageModal');
            // Após fechar a mensagem, abre automaticamente a galeria
            openModal('galleryModal');
            updateDotActiveState('galleryModal');
            loadGalleryPhotos(photosToShowInitially); // Carrega fotos iniciais na galeria
        });

        closeGalleryModal.addEventListener('click', () => closeModal('galleryModal'));
        closeLoveModal.addEventListener('click', () => closeModal('loveModal'));
        closeHistoryModal.addEventListener('click', () => closeModal('historyModal'));
        closeDreamsModal.addEventListener('click', () => closeModal('dreamsModal'));

        // --- NAVEGAÇÃO POR PONTOS ---
        dots.forEach(dot => {
            dot.addEventListener('click', () => {
                const targetModalId = dot.dataset.modal;
                // Fecha qualquer modal aberto
                document.querySelectorAll('.modal-overlay').forEach(modal => {
                    modal.classList.remove('active');
                });
                // Abre o modal clicado
                openModal(targetModalId);
                updateDotActiveState(targetModalId);

                // Lógica específica para a galeria se for clicada
                if (targetModalId === 'galleryModal') {
                    loadGalleryPhotos(photosToShowInitially);
                }
            });
        });

        // --- LÓGICA DA GALERIA ---
        function loadGalleryPhotos(count) {
            fullGalleryGrid.innerHTML = ''; // Limpa as fotos existentes
            const photosSubset = allPhotos.slice(0, count);

            photosSubset.forEach(photoSrc => {
                const img = document.createElement('img');
                img.src = photoSrc;
                img.alt = 'Nossa Foto';
                fullGalleryGrid.appendChild(img);
            });

            galleryPhotoCount.textContent = `${photosSubset.length} fotos`;

            // Mostra o botão "Ver Mais Fotos" se houver mais fotos para carregar
            if (count < allPhotos.length) {
                loadMorePhotosBtn.style.display = 'inline-flex';
            } else {
                loadMorePhotosBtn.style.display = 'none';
            }
        }

        loadMorePhotosBtn.addEventListener('click', () => {
            photosToShowInitially = allPhotos.length; // Carrega todas as fotos
            loadGalleryPhotos(photosToShowInitially);
        });

        // Definir o estado inicial dos pontos
        updateDotActiveState('messageModal'); // Mensagem é o primeiro a ser aberto após a carta
    </script>

</body>
</html>
